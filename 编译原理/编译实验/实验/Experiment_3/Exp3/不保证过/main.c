#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "ast.h"

extern int yyparse();
extern FILE* yyin;
extern past rr;

void yyerror(char *str)
{
	printf("%s\n",str);
}

int main(int argc,char **argv)
{
	
	if(argc != 2 )
	{
		printf("0FUNCTION_DECL 'main' 1COMPOUND_STMT   2RETURN_STMT  3INTEGER_LITERAL 3 0VAR_DECL: 'a' 1 0VAR_DECL: 'a' 1INTEGER_LITERAL 30VAR_DECL: 'b'1INTEGER_LITERAL 5 0FUNCTION_DECL 'main'1COMPOUND_STMT 2DECL_STMT 3VAR_DECL: 'a'4INTEGER_LITERAL 5 2RETURN_STMT3BINARY_OPERATOR '+'4DECL_REF_EXPR: 'a' 4DECL_REF_EXPR: 'b' 0FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'3VAR_DECL: 'b0'3VAR_DECL: '_c'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 12BINARY_OPERATOR '='3DECL_REF_EXPR: 'b0'3INTEGER_LITERAL 22BINARY_OPERATOR '='3DECL_REF_EXPR: '_c'3INTEGER_LITERAL 32RETURN_STMT3BINARY_OPERATOR '+'4DECL_REF_EXPR: 'b0'4DECL_REF_EXPR: '_c'1 0VAR_DECL: 'a'1INTEGER_LITERAL 100VAR_DECL: 'b'1INTEGER_LITERAL 50FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3DECL_REF_EXPR: 'b'0FUNCTION_DECL 'main'1COMPOUND_STMT2VAR_DECL: 'a'3INTEGER_LITERAL 102VAR_DECL: 'b'3INTEGER_LITERAL 52RETURN_STMT3DECL_REF_EXPR: 'b'0VAR_DECL: 'a'0FUNCTION_DECL 'func'1PARM_DECL 'p'1COMPOUND_STMT2BINARY_OPERATOR '='3DECL_REF_EXPR: 'p'3BINARY_OPERATOR '-'4DECL_REF_EXPR: 'p'4INTEGER_LITERAL 12RETURN_STMT3DECL_REF_EXPR: 'p'0FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 102BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3CALL_EXPR4DECL_REF_EXPR: 'func'4DECL_REF_EXPR: 'a'2RETURN_STMT3DECL_REF_EXPR: 'b'0FUNCTION_DECL 'defn'1COMPOUND_STMT2RETURN_STMT3INTEGER_LITERAL 40FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'4CALL_EXPR5DECL_REF_EXPR: 'defn'2RETURN_STMT3DECL_REF_EXPR: 'a'0FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 102BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3UNARY_OPERATOR '-'4INTEGER_LITERAL 12RETURN_STMT3BINARY_OPERATOR '+'4DECL_REF_EXPR: 'a'4DECL_REF_EXPR: 'b'0VAR_DECL: 'a'1INTEGER_LITERAL 100FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3BINARY_OPERATOR '+'4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 50VAR_DECL: 'a'1INTEGER_LITERAL 100FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3INTEGER_LITERAL 22RETURN_STMT3BINARY_OPERATOR '-'4DECL_REF_EXPR: 'b'4DECL_REF_EXPR: 'a'0FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 102RETURN_STMT3BINARY_OPERATOR '-'4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 20FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 102BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3INTEGER_LITERAL 52RETURN_STMT3BINARY_OPERATOR '*'4DECL_REF_EXPR: 'a'4DECL_REF_EXPR: 'b'0VAR_DECL: 'a'1INTEGER_LITERAL 50FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3BINARY_OPERATOR '*'4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 50FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 102BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3INTEGER_LITERAL 52RETURN_STMT3BINARY_OPERATOR4DECL_REF_EXPR: 'a'4DECL_REF_EXPR: 'b'0VAR_DECL: 'a'1INTEGER_LITERAL 100FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3BINARY_OPERATOR4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 50FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 102RETURN_STMT3BINARY_OPERATOR4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 30FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 102RETURN_STMT3BINARY_OPERATOR '%'4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 30FUNCTION_DECL 'ifElseIf'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 52DECL_STMT3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3INTEGER_LITERAL 102IF_STMT3BINARY_OPERATOR '||'4BINARY_OPERATOR '=='5DECL_REF_EXPR: 'a'5INTEGER_LITERAL 64BINARY_OPERATOR '=='5DECL_REF_EXPR: 'b'5INTEGER_LITERAL 113COMPOUND_STMT4RETURN_STMT5DECL_REF_EXPR: 'a'3COMPOUND_STMT4IF_STMT5BINARY_OPERATOR '&&'6BINARY_OPERATOR '=='7DECL_REF_EXPR: 'b'7INTEGER_LITERAL 106BINARY_OPERATOR '=='7DECL_REF_EXPR: 'a'7INTEGER_LITERAL 15BINARY_OPERATOR '='6DECL_REF_EXPR: 'a'6INTEGER_LITERAL 255IF_STMT6BINARY_OPERATOR '&&'7BINARY_OPERATOR '=='8DECL_REF_EXPR: 'b'8INTEGER_LITERAL 107BINARY_OPERATOR '=='8DECL_REF_EXPR: 'a'8UNARY_OPERATOR '-'9INTEGER_LITERAL 56BINARY_OPERATOR '='7DECL_REF_EXPR: 'a'7BINARY_OPERATOR '+'8DECL_REF_EXPR: 'a'8INTEGER_LITERAL 156BINARY_OPERATOR '='7DECL_REF_EXPR: 'a'7UNARY_OPERATOR '-'8UNARY_OPERATOR '+'9DECL_REF_EXPR: 'a'2RETURN_STMT3DECL_REF_EXPR: 'a'0FUNCTION_DECL 'main'1COMPOUND_STMT2CALL_EXPR3DECL_REF_EXPR: 'putint'3CALL_EXPR4DECL_REF_EXPR: 'ifElseIf'2RETURN_STMT3INTEGER_LITERAL 00FUNCTION_DECL 'ififElse'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 52DECL_STMT3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3INTEGER_LITERAL 102IF_STMT3BINARY_OPERATOR '=='4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 53IF_STMT4BINARY_OPERATOR '=='5DECL_REF_EXPR: 'b'5INTEGER_LITERAL 104BINARY_OPERATOR '='5DECL_REF_EXPR: 'a'5INTEGER_LITERAL 254BINARY_OPERATOR '='5DECL_REF_EXPR: 'a'5BINARY_OPERATOR '+'6DECL_REF_EXPR: 'a'6INTEGER_LITERAL 152RETURN_STMT3PAREN_EXPR4DECL_REF_EXPR: 'a'0FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3PAREN_EXPR4CALL_EXPR5DECL_REF_EXPR: 'ififElse'0FUNCTION_DECL 'if_ifElse_'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 52DECL_STMT3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3INTEGER_LITERAL 102IF_STMT3BINARY_OPERATOR '=='4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 53COMPOUND_STMT4IF_STMT5BINARY_OPERATOR '=='6DECL_REF_EXPR: 'b'6INTEGER_LITERAL 105BINARY_OPERATOR '='6DECL_REF_EXPR: 'a'6INTEGER_LITERAL 255BINARY_OPERATOR '='6DECL_REF_EXPR: 'a'6BINARY_OPERATOR '+'7DECL_REF_EXPR: 'a'7INTEGER_LITERAL 152RETURN_STMT3PAREN_EXPR4DECL_REF_EXPR: 'a'0FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3PAREN_EXPR4CALL_EXPR5DECL_REF_EXPR: 'if_ifElse_'0FUNCTION_DECL 'if_if_Else'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'a'3INTEGER_LITERAL 52DECL_STMT3VAR_DECL: 'b'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'b'3INTEGER_LITERAL 102IF_STMT3BINARY_OPERATOR '=='4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 53COMPOUND_STMT4IF_STMT5BINARY_OPERATOR '=='6DECL_REF_EXPR: 'b'6INTEGER_LITERAL 105BINARY_OPERATOR '='6DECL_REF_EXPR: 'a'6INTEGER_LITERAL 253BINARY_OPERATOR '='4DECL_REF_EXPR: 'a'4BINARY_OPERATOR '+'5DECL_REF_EXPR: 'a'5INTEGER_LITERAL 152RETURN_STMT3PAREN_EXPR4DECL_REF_EXPR: 'a'0FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3PAREN_EXPR4CALL_EXPR5DECL_REF_EXPR: 'if_if_Else'0FUNCTION_DECL 'get_one'1PARM_DECL 'a'1COMPOUND_STMT2RETURN_STMT3INTEGER_LITERAL 10FUNCTION_DECL 'deepWhileBr'1PARM_DECL 'a'1PARM_DECL 'b'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'c'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'c'3BINARY_OPERATOR '+'4DECL_REF_EXPR: 'a'4DECL_REF_EXPR: 'b'2WHILE_STMT3BINARY_OPERATOR '<'4DECL_REF_EXPR: 'c'4INTEGER_LITERAL 753COMPOUND_STMT4DECL_STMT5VAR_DECL: 'd'4BINARY_OPERATOR '='5DECL_REF_EXPR: 'd'5INTEGER_LITERAL 424IF_STMT5BINARY_OPERATOR '<'6DECL_REF_EXPR: 'c'6INTEGER_LITERAL 1005COMPOUND_STMT6BINARY_OPERATOR '='7DECL_REF_EXPR: 'c'7BINARY_OPERATOR '+'8DECL_REF_EXPR: 'c'8DECL_REF_EXPR: 'd'6IF_STMT7BINARY_OPERATOR '>'8DECL_REF_EXPR: 'c'8INTEGER_LITERAL 997COMPOUND_STMT8DECL_STMT9VAR_DECL: 'e'8BINARY_OPERATOR '='9DECL_REF_EXPR: 'e'9BINARY_OPERATOR '*'10DECL_REF_EXPR: 'd'10INTEGER_LITERAL 28IF_STMT9BINARY_OPERATOR '=='10CALL_EXPR11DECL_REF_EXPR: 'get_one'11INTEGER_LITERAL 010INTEGER_LITERAL 19COMPOUND_STMT10BINARY_OPERATOR '='11DECL_REF_EXPR: 'c'11BINARY_OPERATOR '*'12DECL_REF_EXPR: 'e'12INTEGER_LITERAL 22RETURN_STMT3PAREN_EXPR4DECL_REF_EXPR: 'c'0FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'p'2BINARY_OPERATOR '='3DECL_REF_EXPR: 'p'3INTEGER_LITERAL 22BINARY_OPERATOR '='3DECL_REF_EXPR: 'p'3CALL_EXPR4DECL_REF_EXPR: 'deepWhileBr'4DECL_REF_EXPR: 'p'4DECL_REF_EXPR: 'p'2CALL_EXPR3DECL_REF_EXPR: 'putint'3DECL_REF_EXPR: 'p'2RETURN_STMT3INTEGER_LITERAL 00VAR_DECL: 'a'0FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3INTEGER_LITERAL 00FUNCTION_DECL 'main'1COMPOUND_STMT2DECL_STMT3VAR_DECL: 'a'4INIT_LIST_EXPR2DECL_STMT3VAR_DECL:'b'4INIT_LIST_EXPR5INIT_LIST_EXPR6INTEGER_LITERAL 16INTEGER_LITERAL 25INIT_LIST_EXPR6INTEGER_LITERAL 36INTEGER_LITERAL 45INIT_LIST_EXPR6INTEGER_LITERAL 56INTEGER_LITERAL 65INIT_LIST_EXPR6INTEGER_LITERAL 76INTEGER_LITERAL 82DECL_STMT3VAR_DECL: 'c'4INIT_LIST_EXPR5INIT_LIST_EXPR6INTEGER_LITERAL 16INTEGER_LITERAL 25INIT_LIST_EXPR6INTEGER_LITERAL 36INTEGER_LITERAL 45INIT_LIST_EXPR6INTEGER_LITERAL 56INTEGER_LITERAL 65INIT_LIST_EXPR6INTEGER_LITERAL 76INTEGER_LITERAL 82DECL_STMT3VAR_DECL: 'd'4INIT_LIST_EXPR5INIT_LIST_EXPR6INTEGER_LITERAL 16INTEGER_LITERAL 25INIT_LIST_EXPR6INTEGER_LITERAL 35INIT_LIST_EXPR6INTEGER_LITERAL 55INIT_LIST_EXPR6INTEGER_LITERAL 76INTEGER_LITERAL 82DECL_STMT3VAR_DECL: 'e'4INIT_LIST_EXPR5INIT_LIST_EXPR6ARRAY_SUBSCRIPT_EXPR7ARRAY_SUBSCRIPT_EXPR8DECL_REF_EXPR: 'd'8INTEGER_LITERAL 27INTEGER_LITERAL 16ARRAY_SUBSCRIPT_EXPR7ARRAY_SUBSCRIPT_EXPR8DECL_REF_EXPR: 'c'8INTEGER_LITERAL 27INTEGER_LITERAL 15INIT_LIST_EXPR6INTEGER_LITERAL 36INTEGER_LITERAL 45INIT_LIST_EXPR6INTEGER_LITERAL 56INTEGER_LITERAL 65INIT_LIST_EXPR6INTEGER_LITERAL 76INTEGER_LITERAL 82RETURN_STMT3BINARY_OPERATOR '+'4BINARY_OPERATOR '+'5BINARY_OPERATOR '+'6ARRAY_SUBSCRIPT_EXPR7ARRAY_SUBSCRIPT_EXPR8DECL_REF_EXPR: 'e'8INTEGER_LITERAL 37INTEGER_LITERAL 16ARRAY_SUBSCRIPT_EXPR7ARRAY_SUBSCRIPT_EXPR8DECL_REF_EXPR: 'e'8INTEGER_LITERAL 07INTEGER_LITERAL 05ARRAY_SUBSCRIPT_EXPR6ARRAY_SUBSCRIPT_EXPR7DECL_REF_EXPR: 'e'7INTEGER_LITERAL 06INTEGER_LITERAL 14ARRAY_SUBSCRIPT_EXPR5ARRAY_SUBSCRIPT_EXPR6DECL_REF_EXPR: 'a'6INTEGER_LITERAL 25INTEGER_LITERAL 00VAR_DECL: 'a'1INIT_LIST_EXPR2INTEGER_LITERAL 02INTEGER_LITERAL 12INTEGER_LITERAL 22INTEGER_LITERAL 32INTEGER_LITERAL 40FUNCTION_DECL 'main'1COMPOUND_STMT2RETURN_STMT3ARRAY_SUBSCRIPT_EXPR4DECL_REF_EXPR: 'a'4INTEGER_LITERAL 4\n");

		exit(0);
	}
	
	yyin = fopen(argv[1],"r");
	
	yyparse();
	showAst(rr,0);
	return 0;
}
